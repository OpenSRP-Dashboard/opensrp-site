<data-ng-include src="'views/partials/header.html'"></data-ng-include>
<section>
<div show-during-resolve class="loader">   
  <center><img src="images/spinner.gif"  alt="Opensrp"/></center>
</div>
    <div class="container">
      <div class="row">
        <data-ng-include src="'views/partials/left-sidebar.html'"></data-ng-include>
        <div class="row"> <!-- main col left --> 
          <div class="col-sm-2 col-md-2"></div>
          <div class="col-sm-9 col-md-9">
            <div class="row">
              <div class="col-xs-12 col-lg-12">
                <div class="panel-group" id="accordion2" role="tablist" aria-multiselectable="true">
                  <div class="panel panel-default">
                    <div class="panel-heading2" role="tab" id="headingOne">
                      <h5 style="text-align: right;margin-right: 20px;"><a href="/#/schedule-rule/add"><i class="glyphicon glyphicon-plus"></i>Add new</a></h5>
                      <div flash-message="5000" ></div>
                      <div id="message"></div>
                      <table>
                        <thead> <!--table head-->
                          <tr style="background:none">
                            <th style="width:30%; font-size:12px;">
                              <a href="/#/schedule-rule" ng-click="sortType = 'name'; sortReverse = !sortReverse">Schedule Name
                                <span ng-show="sortType == 'name' && !sortReverse" class="fa fa-caret-down"></span>
                                <span ng-show="sortType == 'name' && sortReverse" class="fa fa-caret-up"></span>
                              </a>                        
                            </th>                                       
                            <th style="width:30%;">
                              <a href="/#/schedule-rule" ng-click="sortType = 'createdBy'; sortReverse = !sortReverse">Created By
                                <span ng-show="sortType == 'createdBy' && !sortReverse" class="fa fa-caret-down"></span>
                                <span ng-show="sortType == 'createdBy' && sortReverse" class="fa fa-caret-up"></span>
                              </a>
                            </th>
                            <th style="width:30%;">
                              <a href="/#/schedule-rule" ng-click="sortType = 'createdDate'; sortReverse = !sortReverse">Created Date
                                <span ng-show="sortType == 'createdDate' && !sortReverse" class="fa fa-caret-down"></span>
                                <span ng-show="sortType == 'createdDate' && sortReverse" class="fa fa-caret-up"></span>
                              </a>    
                            </th>
                            <th style="width:10%;"></th>
                          </tr>
                        </thead><!--//table head-->
                      </table>                        
                    </div>                       
                  </div>                    
                  <div class="panel panel-default" ng-repeat="scheduleRule in data | filter:search | orderBy:sortType:sortReverse | startFrom:(currentPage-1)*entryLimit | limitTo:entryLimit">
                  <div class="panel-heading2" role="tab" id="headingTwo2">
                  <table class="table table-striped collapsed"  data-toggle="collapse" data-parent="#accordion2" href="#{{scheduleRule.id}}" aria-expanded="false" aria-controls="collapseTwo">
                    <thead>
                      <tr>                        
                        <th style="width:30%">{{scheduleRule.key.name}}</th>                                        
                        <th style="width:30%;">{{scheduleRule.key.createdBy}}</th>
                        <th style="width:30%;">{{scheduleRule.key.createdDate}}</th>
                        <th style="width:10%;"><a href="/#/schedule-rule/edit/{{scheduleRule.id}}">Edit</a></th>
                      </tr>
                    </thead>
                  </table><!--//table body-->
                  </div>
                    <div id="{{scheduleRule.id}}" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">                    
                      <div class="panel-body">
                        <div class="row">                          
                          <div class=" col-md-4 col-lg-8 ">                            
                            <div  ng-repeat="rule in scheduleRule.key.rule">
                              
                              <div class="col-md-6">
                                  <b>Start Form Name:</b> {{rule.startFormName}}
                                  <br />
                                  <b>End Form Name:</b> {{rule.endFormName}}
                              </div>
                              <div class=" col-md-6">
                                [
                                <div ng-repeat="defination in rule.defination"> 
                                <div class="rule">
                                {<br /><b> Name: </b>{{defination.name}}<br />
                                  <b>Value:</b> {{defination.value}}<br/>
                                }
                                </div>
                                </div>
                                ]
                              </div>
                              <div style="clear: both"</div>
                            </div>                              
                          </div>
                        </div>
                      </div>                     
                    </div>
                  </div>
                </div>
              </div>      
              <div class="row">
                <div class="col-md-3 col-lg-10 ">
                  <pagination page="currentPage" boundary-links="true" max-size="6" total-items="totalItems" items-per-page="entryLimit"></pagination>
                </div>                
              </div>                    
            </div>
          </div>        
        </div>            
      </div>
    </div>    
</section>






